[gd_scene load_steps=44 format=2]

[ext_resource path="res://objects/characters/Player/PlayerSpawner.tscn" type="PackedScene" id=1]
[ext_resource path="res://objects/interface/canvas.tscn" type="PackedScene" id=2]
[ext_resource path="res://objects/items/key.tscn" type="PackedScene" id=3]
[ext_resource path="res://objects/props/furniture/cabinet.tscn" type="PackedScene" id=4]
[ext_resource path="res://objects/props/doors/door1.tscn" type="PackedScene" id=5]
[ext_resource path="res://assets/materials/physics/stone.phymat" type="PhysicsMaterial" id=6]
[ext_resource path="res://assets/materials/physics/wood.phymat" type="PhysicsMaterial" id=7]
[ext_resource path="res://objects/props/mirror/mirror.tscn" type="PackedScene" id=8]
[ext_resource path="res://assets/materials/weapon/result/glass_parts/glass_part2.material" type="Material" id=9]
[ext_resource path="res://assets/scripts/furniture/MirrorArea.cs" type="Script" id=10]
[ext_resource path="res://assets/materials/weapon/result/glass_parts/glass_part1.material" type="Material" id=11]
[ext_resource path="res://assets/materials/props/window/mirror-broken.tres" type="Material" id=12]
[ext_resource path="res://assets/materials/weapon/result/glass_parts/glass_part0.material" type="Material" id=13]
[ext_resource path="res://assets/materials/props/window/transparent.tres" type="Material" id=14]
[ext_resource path="res://assets/materials/physics/glass.phymat" type="PhysicsMaterial" id=15]
[ext_resource path="res://assets/audio/guns/result/glass_brake1.wav" type="AudioStream" id=16]
[ext_resource path="res://assets/audio/guns/result/glass_brake2.wav" type="AudioStream" id=17]
[ext_resource path="res://assets/scripts/furniture/BreakableObject.cs" type="Script" id=18]
[ext_resource path="res://objects/items/HealPotion.tscn" type="PackedScene" id=19]
[ext_resource path="res://objects/props/furniture/metallic-cabinet.tscn" type="PackedScene" id=20]
[ext_resource path="res://objects/items/307mmAmmo.tscn" type="PackedScene" id=21]
[ext_resource path="res://objects/items/357mmAmmo.tscn" type="PackedScene" id=22]
[ext_resource path="res://objects/items/10mmAmmo.tscn" type="PackedScene" id=23]
[ext_resource path="res://objects/items/20mmAmmo.tscn" type="PackedScene" id=24]
[ext_resource path="res://objects/items/pistol.tscn" type="PackedScene" id=25]
[ext_resource path="res://objects/items/revolver.tscn" type="PackedScene" id=26]
[ext_resource path="res://objects/items/rifle.tscn" type="PackedScene" id=27]
[ext_resource path="res://objects/items/shotgun.tscn" type="PackedScene" id=28]

[sub_resource type="PlaneMesh" id=1]

[sub_resource type="BoxShape" id=2]
extents = Vector3( 50, 0.1, 50 )

[sub_resource type="CubeMesh" id=3]

[sub_resource type="BoxShape" id=4]

[sub_resource type="PlaneMesh" id=5]
material = ExtResource( 14 )

[sub_resource type="BoxShape" id=6]
extents = Vector3( 4.19303, 2.48784, 0.158027 )

[sub_resource type="QuadMesh" id=7]
size = Vector2( 8, 4 )

[sub_resource type="SpatialMaterial" id=8]
resource_local_to_scene = true
flags_albedo_tex_force_srgb = true
metallic_specular = 0.27
roughness = 0.42

[sub_resource type="BoxShape" id=9]
extents = Vector3( 2.17797, 2.66149, 0.105925 )

[sub_resource type="ParticlesMaterial" id=10]
emission_shape = 2
emission_box_extents = Vector3( 0.9, 0.2, 0.2 )
direction = Vector3( 0, 0, 1 )
spread = 50.0
gravity = Vector3( 0, -6, 0 )
initial_velocity = 2.0

[sub_resource type="QuadMesh" id=11]
material = ExtResource( 13 )
size = Vector2( 0.8, 0.8 )

[sub_resource type="QuadMesh" id=12]
material = ExtResource( 11 )
size = Vector2( 0.8, 0.8 )

[sub_resource type="QuadMesh" id=13]
material = ExtResource( 9 )
size = Vector2( 0.8, 0.8 )

[sub_resource type="BoxShape" id=14]
extents = Vector3( 6.52819, 2.3378, 9.37135 )

[sub_resource type="BoxShape" id=15]
extents = Vector3( 5.91382, 4.42414, 10.2255 )

[node name="Main" type="Node"]

[node name="Scene" type="Node" parent="."]

[node name="terrain" type="StaticBody" parent="Scene"]
collision_layer = 3
physics_material_override = ExtResource( 6 )

[node name="MeshInstance" type="MeshInstance" parent="Scene/terrain"]
transform = Transform( 50, 0, 0, 0, 1, 0, 0, 0, 50, 0, 0, 0 )
mesh = SubResource( 1 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Scene/terrain"]
shape = SubResource( 2 )

[node name="box" type="StaticBody" parent="Scene/terrain"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.87655, 0.981555, 9.40208 )
physics_material_override = ExtResource( 6 )

[node name="MeshInstance" type="MeshInstance" parent="Scene/terrain/box"]
mesh = SubResource( 3 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Scene/terrain/box"]
shape = SubResource( 4 )

[node name="box3" type="StaticBody" parent="Scene/terrain"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.87655, 0.981555, 14.9577 )
physics_material_override = ExtResource( 6 )

[node name="MeshInstance" type="MeshInstance" parent="Scene/terrain/box3"]
mesh = SubResource( 3 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Scene/terrain/box3"]
shape = SubResource( 4 )

[node name="box2" type="StaticBody" parent="Scene/terrain"]
transform = Transform( 8, 0, 0, 0, 5, 0, 0, 0, 2, -1.08094, 4.611, -18.6128 )
physics_material_override = ExtResource( 6 )

[node name="MeshInstance" type="MeshInstance" parent="Scene/terrain/box2"]
mesh = SubResource( 3 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Scene/terrain/box2"]
shape = SubResource( 4 )

[node name="PlayerSpawner" parent="Scene" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0 )

[node name="cabinet" parent="Scene" instance=ExtResource( 4 )]
transform = Transform( 1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -15.4544, 2.91461, -3.64411 )
physics_material_override = ExtResource( 7 )
dropSide = Vector3( 1, 0, 0 )
itemPrefab = ExtResource( 3 )
keyName = "key_test"
pickKeyTextLink = "key_test"

[node name="metallic-cabinet" parent="Scene" instance=ExtResource( 20 )]
transform = Transform( 1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -15.3443, 2.99856, 2.5442 )
dropSide = Vector3( 1, 0, 0 )

[node name="door" parent="Scene" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.4294, 0, 13.7221 )
myKey = "key_test"

[node name="Mirror" type="StaticBody" parent="Scene"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.672479, 3.41876, -16.2384 )
collision_layer = 3
physics_material_override = ExtResource( 15 )
script = ExtResource( 18 )
BrokenMaterial = ExtResource( 12 )
objectType = 2
brakeSounds = {
"brake1": ExtResource( 16 ),
"brake2": ExtResource( 17 )
}

[node name="mesh" type="MeshInstance" parent="Scene/Mirror"]
transform = Transform( 2.5, 0, 0, 0, -4.37114e-08, -1.5, 0, 1, -6.55671e-08, 0, 0, 0.354 )
mesh = SubResource( 5 )
material/0 = null

[node name="shape" type="CollisionShape" parent="Scene/Mirror"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0326967, 0, 0.121668 )
shape = SubResource( 6 )

[node name="Mirror" parent="Scene/Mirror" instance=ExtResource( 8 )]
mesh = SubResource( 7 )
material/0 = SubResource( 8 )
size = Vector2( 8, 4 )

[node name="StaticBody" type="StaticBody" parent="Scene/Mirror/Mirror"]
physics_material_override = ExtResource( 15 )

[node name="CollisionShape" type="CollisionShape" parent="Scene/Mirror/Mirror/StaticBody"]
shape = SubResource( 9 )

[node name="audi" type="AudioStreamPlayer3D" parent="Scene/Mirror"]
unit_db = 5.0
unit_size = 10.0
max_db = 5.0
max_distance = 500.0

[node name="Particles" type="Particles" parent="Scene/Mirror"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.243034, 0 )
emitting = false
lifetime = 0.8
one_shot = true
explosiveness = 1.0
randomness = 0.87
visibility_aabb = AABB( -0.8371, -0.708018, -0.693237, 1.6742, 1.41604, 1.38647 )
process_material = SubResource( 10 )
draw_passes = 3
draw_pass_1 = SubResource( 11 )
draw_pass_2 = SubResource( 12 )
draw_pass_3 = SubResource( 13 )

[node name="enemyArea" type="Area" parent="Scene/Mirror"]
monitorable = false

[node name="shape" type="CollisionShape" parent="Scene/Mirror/enemyArea"]
shape = SubResource( 14 )

[node name="mirror-trigger" type="Area" parent="Scene"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.68609, 2.06327, -9.13055 )
script = ExtResource( 10 )

[node name="CollisionShape" type="CollisionShape" parent="Scene/mirror-trigger"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.139542, 0.0532303, 1.37937 )
shape = SubResource( 15 )

[node name="items" type="Node" parent="Scene"]

[node name="HealPotion" parent="Scene/items" instance=ExtResource( 19 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 15.2308, 1.15506, -1.19808 )

[node name="10mmAmmo" parent="Scene/items" instance=ExtResource( 23 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 15.4621, 1.15506, 4.01038 )

[node name="20mmAmmo" parent="Scene/items" instance=ExtResource( 24 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 15.4621, 1.15506, 8.08391 )

[node name="307mmAmmo" parent="Scene/items" instance=ExtResource( 21 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 15.4621, 1.15506, 11.6341 )

[node name="357mmAmmo" parent="Scene/items" instance=ExtResource( 22 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 15.4621, 1.15506, 17.1962 )

[node name="pistol" parent="Scene/items" instance=ExtResource( 25 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 28.3085, 1.15506, -2.22805 )

[node name="revolver" parent="Scene/items" instance=ExtResource( 26 )]
transform = Transform( 0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 28.742, 1.155, 5.877 )

[node name="rifle" parent="Scene/items" instance=ExtResource( 27 )]
transform = Transform( 0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 29.2679, 1.155, 14.765 )

[node name="shotgun" parent="Scene/items" instance=ExtResource( 28 )]
transform = Transform( 0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 28.7142, 1.55, 26.2817 )

[node name="canvas" parent="Scene" instance=ExtResource( 2 )]

[node name="Menu" type="Node" parent="."]

[node name="MenuScene" type="Control" parent="Menu"]
margin_right = 40.0
margin_bottom = 40.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="SettingsMenu" type="Control" parent="Menu"]
margin_right = 40.0
margin_bottom = 40.0
__meta__ = {
"_edit_use_anchors_": false
}
[connection signal="body_entered" from="Scene/mirror-trigger" to="Scene/mirror-trigger" method="_on_Area_body_entered"]
[connection signal="body_exited" from="Scene/mirror-trigger" to="Scene/mirror-trigger" method="_on_mirrortrigger_body_exited"]
